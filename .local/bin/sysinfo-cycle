#!/bin/bash

# Cycle through sysinfo display modes on left click

STATE_FILE="$HOME/.cache/waybar-sysinfo-mode"
MODES=(temp cpu ram disk load)

current="temp"
if [ -f "$STATE_FILE" ]; then
    current=$(cat "$STATE_FILE")
fi

# Find current index and advance
idx=0
for i in "${!MODES[@]}"; do
    if [ "${MODES[$i]}" = "$current" ]; then
        idx=$i
        break
    fi
done
next_idx=$(( (idx + 1) % ${#MODES[@]} ))
next="${MODES[$next_idx]}"

echo "$next" > "$STATE_FILE"
